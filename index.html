<!DOCTYPE html>
<html lang="ms">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistem Laporan Guru Bertugas</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; background-color: #f3f4f6; }

        /* CSS KHAS UNTUK PRINT */
        @media print {
            body { background-color: white; }
            #input-section, #btn-print-group { display: none !important; }
            #report-preview { 
                display: block !important; 
                box-shadow: none !important; 
                border: none !important; 
                padding: 0 !important;
                margin: 0 !important;
                width: 100% !important;
            }
            .print-break { page-break-inside: avoid; }
        }
    </style>
</head>
<body class="p-6 md:p-12">

    <div id="input-section" class="max-w-4xl mx-auto bg-white p-8 rounded-xl shadow-md border border-gray-200 mb-10">
        <h2 class="text-2xl font-bold text-gray-800 mb-6 border-b pb-4">Isi Maklumat Laporan</h2>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-6 mb-6">
            <div>
                <label class="block text-gray-700 font-semibold mb-2">Nama Sekolah</label>
                <input type="text" id="in_sekolah" class="w-full p-3 border rounded bg-gray-50" value="SK SATU SULTAN ALAM SHAH">
            </div>
            <div>
                <label class="block text-gray-700 font-semibold mb-2">Minggu</label>
                <input type="text" id="in_minggu" class="w-full p-3 border rounded bg-gray-50" placeholder="Contoh: MINGGU 36">
            </div>
            <div>
                <label class="block text-gray-700 font-semibold mb-2">Tarikh</label>
                <input type="date" id="in_tarikh" class="w-full p-3 border rounded bg-gray-50">
            </div>
            <div>
                <label class="block text-gray-700 font-semibold mb-2">Hari</label>
                <select id="in_hari" class="w-full p-3 border rounded bg-gray-50">
                    <option>Isnin</option>
                    <option>Selasa</option>
                    <option>Rabu</option>
                    <option>Khamis</option>
                    <option>Jumaat</option>
                </select>
            </div>
        </div>

        <div class="mb-6">
            <label class="block text-gray-700 font-semibold mb-2">Nama-nama Bertugas</label>
            <textarea id="in_nama" class="w-full p-3 border rounded bg-gray-50 h-24" placeholder="Masukkan nama (SAL SABILA, WAN AJRINA, dll...)"></textarea>
        </div>

        <div class="space-y-6">
            <div>
                <label class="block text-blue-800 font-bold mb-1">1. PERHIMPUNAN PAGI</label>
                <textarea id="in_1" class="w-full p-3 border rounded bg-gray-50" placeholder="Contoh: Perhimpunan berjalan lancar..."></textarea>
            </div>
            <div>
                <label class="block text-blue-800 font-bold mb-1">2. DISIPLIN PELAJAR</label>
                <textarea id="in_2" class="w-full p-3 border rounded bg-gray-50" placeholder="Contoh: Tiada kes disiplin dilaporkan..."></textarea>
            </div>
            <div>
                <label class="block text-blue-800 font-bold mb-1">3. KELAS</label>
                <textarea id="in_3" class="w-full p-3 border rounded bg-gray-50" placeholder="Contoh: PdPc berjalan seperti biasa..."></textarea>
            </div>
            <div>
                <label class="block text-blue-800 font-bold mb-1">4. KANTIN</label>
                <textarea id="in_4" class="w-full p-3 border rounded bg-gray-50" placeholder="Contoh: Kantin bersih dan murid beratur..."></textarea>
            </div>
            <div>
                <label class="block text-blue-800 font-bold mb-1">5. SURAU</label>
                <textarea id="in_5" class="w-full p-3 border rounded bg-gray-50" placeholder="Contoh: Surau dalam keadaan bersih..."></textarea>
            </div>
            <div>
                <label class="block text-blue-800 font-bold mb-1">6. PINTU PAGAR</label>
                <textarea id="in_6" class="w-full p-3 border rounded bg-gray-50" placeholder="Contoh: Kawalan trafik terkawal..."></textarea>
            </div>
            <div>
                <label class="block text-blue-800 font-bold mb-1">7. LAWATAN</label>
                <textarea id="in_7" class="w-full p-3 border rounded bg-gray-50" placeholder="Contoh: Tiada pelawat hari ini..."></textarea>
            </div>
            <div>
                <label class="block text-blue-800 font-bold mb-1">8. AKTIVITI</label>
                <textarea id="in_8" class="w-full p-3 border rounded bg-gray-50" placeholder="Contoh: Latihan sukan petang..."></textarea>
            </div>
        </div>

        <div class="mt-8">
            <button onclick="generateReport()" class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-3 px-8 rounded-lg shadow-lg flex items-center gap-2">
                <i class="fas fa-save"></i> Simpan Laporan
            </button>
        </div>
    </div>


    <div id="preview-container" class="hidden max-w-4xl mx-auto">
        
        <div id="btn-print-group" class="flex justify-between items-center mb-4">
            <h3 class="text-gray-500 font-bold uppercase">Paparan Cetakan</h3>
            <div>
                <button onclick="document.getElementById('input-section').scrollIntoView({behavior: 'smooth'})" class="text-blue-600 font-semibold mr-4 hover:underline">
                    <i class="fas fa-edit"></i> Edit Semula
                </button>
                <button onclick="window.print()" class="bg-gray-800 hover:bg-black text-white px-6 py-2 rounded-lg font-bold shadow-lg">
                    <i class="fas fa-print mr-2"></i> Cetak / PDF
                </button>
            </div>
        </div>

        <div id="report-preview" class="bg-white p-12 rounded-xl shadow-2xl min-h-[1000px] border border-gray-200 text-gray-900">
            
            <div class="text-center mb-8 border-b-2 border-black pb-6">
                <h1 class="text-2xl font-bold uppercase tracking-wider">Laporan Minggu Bertugas</h1>
            </div>

            <div class="grid grid-cols-2 gap-y-4 gap-x-12 mb-8 text-sm uppercase">
                <div>
                    <p class="font-bold text-gray-500 text-xs mb-1">Sekolah</p>
                    <p class="font-semibold text-lg" id="out_sekolah">-</p>
                </div>
                <div>
                    <p class="font-bold text-gray-500 text-xs mb-1">Minggu</p>
                    <p class="font-semibold text-lg" id="out_minggu">-</p>
                </div>
                <div>
                    <p class="font-bold text-gray-500 text-xs mb-1">Tarikh</p>
                    <p class="font-semibold text-lg" id="out_tarikh">-</p>
                </div>
                <div>
                    <p class="font-bold text-gray-500 text-xs mb-1">Hari</p>
                    <p class="font-semibold text-lg" id="out_hari">-</p>
                </div>
            </div>

            <div class="bg-gray-50 border border-gray-200 p-6 rounded-lg mb-8">
                <p class="font-bold text-gray-800 mb-2">Nama-nama Bertugas</p>
                <p id="out_nama" class="text-gray-700 leading-relaxed uppercase text-sm">-</p>
            </div>

            <div class="space-y-6">
                <div class="print-break">
                    <h3 class="font-bold text-black uppercase mb-1">1. PERHIMPUNAN PAGI</h3>
                    <p id="out_1" class="text-gray-700 text-sm leading-relaxed border-l-4 border-gray-300 pl-4 py-1">-</p>
                </div>
                <div class="print-break">
                    <h3 class="font-bold text-black uppercase mb-1">2. DISIPLIN PELAJAR</h3>
                    <p id="out_2" class="text-gray-700 text-sm leading-relaxed border-l-4 border-gray-300 pl-4 py-1">-</p>
                </div>
                <div class="print-break">
                    <h3 class="font-bold text-black uppercase mb-1">3. KELAS</h3>
                    <p id="out_3" class="text-gray-700 text-sm leading-relaxed border-l-4 border-gray-300 pl-4 py-1">-</p>
                </div>
                <div class="print-break">
                    <h3 class="font-bold text-black uppercase mb-1">4. KANTIN</h3>
                    <p id="out_4" class="text-gray-700 text-sm leading-relaxed border-l-4 border-gray-300 pl-4 py-1">-</p>
                </div>
                <div class="print-break">
                    <h3 class="font-bold text-black uppercase mb-1">5. SURAU</h3>
                    <p id="out_5" class="text-gray-700 text-sm leading-relaxed border-l-4 border-gray-300 pl-4 py-1">-</p>
                </div>
                <div class="print-break">
                    <h3 class="font-bold text-black uppercase mb-1">6. PINTU PAGAR</h3>
                    <p id="out_6" class="text-gray-700 text-sm leading-relaxed border-l-4 border-gray-300 pl-4 py-1">-</p>
                </div>
                <div class="print-break">
                    <h3 class="font-bold text-black uppercase mb-1">7. LAWATAN</h3>
                    <p id="out_7" class="text-gray-700 text-sm leading-relaxed border-l-4 border-gray-300 pl-4 py-1">-</p>
                </div>
                <div class="print-break">
                    <h3 class="font-bold text-black uppercase mb-1">8. AKTIVITI</h3>
                    <p id="out_8" class="text-gray-700 text-sm leading-relaxed border-l-4 border-gray-300 pl-4 py-1">-</p>
                </div>
            </div>

            <div class="mt-16 pt-8 border-t border-gray-300 grid grid-cols-2">
                <div>
                    <p class="text-xs text-gray-500 mb-10">Disediakan oleh:</p>
                    <p class="font-bold text-sm">......................................................</p>
                    <p class="font-bold text-sm">(KETUA KUMPULAN BERTUGAS)</p>
                </div>
                <div>
                    <p class="text-xs text-gray-500 mb-10">Disahkan oleh:</p>
                    <p class="font-bold text-sm">......................................................</p>
                    <p class="font-bold text-sm">(GURU BESAR / PK HEM)</p>
                </div>
             </div>

        </div>
    </div>

    <script>
        function generateReport() {
            // Ambil data dari input
            const data = {
                sekolah: document.getElementById('in_sekolah').value,
                minggu: document.getElementById('in_minggu').value,
                tarikh: document.getElementById('in_tarikh').value,
                hari: document.getElementById('in_hari').value,
                nama: document.getElementById('in_nama').value,
                laporan1: document.getElementById('in_1').value || "Tiada laporan.",
                laporan2: document.getElementById('in_2').value || "Tiada laporan.",
                laporan3: document.getElementById('in_3').value || "Tiada laporan.",
                laporan4: document.getElementById('in_4').value || "Tiada laporan.",
                laporan5: document.getElementById('in_5').value || "Tiada laporan.",
                laporan6: document.getElementById('in_6').value || "Tiada laporan.",
                laporan7: document.getElementById('in_7').value || "Tiada laporan.",
                laporan8: document.getElementById('in_8').value || "Tiada laporan."
            };

            // Masukkan data ke dalam preview
            document.getElementById('out_sekolah').innerText = data.sekolah;
            document.getElementById('out_minggu').innerText = data.minggu;
            
            // Format tarikh sikit supaya cantik
            const dateObj = new Date(data.tarikh);
            if(!isNaN(dateObj)) {
                document.getElementById('out_tarikh').innerText = dateObj.toLocaleDateString('ms-MY', { day: 'numeric', month: 'long', year: 'numeric' });
            } else {
                document.getElementById('out_tarikh').innerText = data.tarikh;
            }
            
            document.getElementById('out_hari').innerText = data.hari;
            document.getElementById('out_nama').innerText = data.nama;
            
            document.getElementById('out_1').innerText = data.laporan1;
            document.getElementById('out_2').innerText = data.laporan2;
            document.getElementById('out_3').innerText = data.laporan3;
            document.getElementById('out_4').innerText = data.laporan4;
            document.getElementById('out_5').innerText = data.laporan5;
            document.getElementById('out_6').innerText = data.laporan6;
            document.getElementById('out_7').innerText = data.laporan7;
            document.getElementById('out_8').innerText = data.laporan8;

            // Tunjuk bahagian preview
            const previewContainer = document.getElementById('preview-container');
            previewContainer.classList.remove('hidden');

            // Scroll ke bawah supaya nampak hasil
            previewContainer.scrollIntoView({ behavior: 'smooth' });
        }
    </script>
</body>
</html>
